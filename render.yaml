services:
  # Backend Service
  - type: web
    name: family-tree-server
    env: node
    root: server
    buildCommand: npm install
    startCommand: node server.js
    envVars:
      - key: NODE_VERSION
        value: 18.17.0
      - key: PORT
        value: 10000
    disk:
      name: uploads
      mountPath: /app/server/uploads
      sizeGB: 1

  # Frontend Service (Optional - usually deployed separately or as static site)
  # Uncomment if you want Render to manage the frontend too
  # - type: static
  #   name: family-tree-client
  #   env: static
  #   root: client
  #   buildCommand: npm install && npm run build
  #   publish: build
  #   routes:
  #     - type: rewrite
  #       source: /*
  #       destination: /index.html
